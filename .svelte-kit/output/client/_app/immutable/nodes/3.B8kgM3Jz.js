import{f as u,a as c,d as rt,g as ot,i as dt}from"../chunks/CaaXtaQm.js";import{j as et,p as K,s as d,c as v,r as n,g as e,Z as C,t as L,a as D,ab as E,n as vt,aW as ct,aX as ht,$ as ut,Y as mt,I as at}from"../chunks/ClOfLx3j.js";import{i as k}from"../chunks/BT6qVgAc.js";import{a as H,e as st,i as it,t as gt,g as xt}from"../chunks/Rgw4rWUl.js";import{h as ft}from"../chunks/BDZE3697.js";import{p as tt,s as wt,a as bt}from"../chunks/CfuIVgKi.js";import{s as pt}from"../chunks/Bdd2tkmV.js";import{s as M}from"../chunks/CNs9amC5.js";import{a as yt}from"../chunks/pK6643e_.js";import{v as Y}from"../chunks/BzEnRNjs.js";function nt(i,t,m,b,h,p){var x=i.__className;if(et||x!==m||x===void 0){var o=yt(m);(!et||o!==i.getAttribute("class"))&&(o==null?i.removeAttribute("class"):i.className=o),i.__className=m}return p}const _t=()=>{const i=pt;return{page:{subscribe:i.page.subscribe},navigating:{subscribe:i.navigating.subscribe},updated:i.updated}},kt={subscribe(i){return _t().page.subscribe(i)}},Mt=[{id:1,text:"بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",translation:"In the name of Allah, the Entirely Merciful, the Especially Merciful.",words:[{id:"1:1:1",text:"بِسْمِ"},{id:"1:1:2",text:"اللَّهِ"},{id:"1:1:3",text:"الرَّحْمَٰنِ"},{id:"1:1:4",text:"الرَّحِيمِ"}]},{id:2,text:"الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ",translation:"[All] praise is [due] to Allah, Lord of the worlds.",words:[{id:"1:2:1",text:"الْحَمْدُ"},{id:"1:2:2",text:"لِلَّهِ"},{id:"1:2:3",text:"رَبِّ"},{id:"1:2:4",text:"الْعَالَمِينَ"}]},{id:3,text:"الرَّحْمَٰنِ الرَّحِيمِ",translation:"The Entirely Merciful, the Especially Merciful.",words:[{id:"1:3:1",text:"الرَّحْمَٰنِ"},{id:"1:3:2",text:"الرَّحِيمِ"}]},{id:4,text:"مَالِكِ يَوْمِ الدِّينِ",translation:"Sovereign of the Day of Recompense.",words:[{id:"1:4:1",text:"مَالِكِ"},{id:"1:4:2",text:"يَوْمِ"},{id:"1:4:3",text:"الدِّينِ"}]},{id:5,text:"إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ",translation:"It is You we worship and You we ask for help.",words:[{id:"1:5:1",text:"إِيَّاكَ"},{id:"1:5:2",text:"نَعْبُدُ"},{id:"1:5:3",text:"وَإِيَّاكَ"},{id:"1:5:4",text:"نَسْتَعِينُ"}]},{id:6,text:"اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ",translation:"Guide us to the straight path.",words:[{id:"1:6:1",text:"اهْدِنَا"},{id:"1:6:2",text:"الصِّرَاطَ"},{id:"1:6:3",text:"الْمُسْتَقِيمَ"}]},{id:7,text:"صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ",translation:"The path of those upon whom You have bestowed favor, not of those who have earned [Your] anger or of those who are astray.",words:[{id:"1:7:1",text:"صِرَاطَ"},{id:"1:7:2",text:"الَّذِينَ"},{id:"1:7:3",text:"أَنْعَمْتَ"},{id:"1:7:4",text:"عَلَيْهِمْ"},{id:"1:7:5",text:"غَيْرِ"},{id:"1:7:6",text:"الْمَغْضُوبِ"},{id:"1:7:7",text:"عَلَيْهِمْ"},{id:"1:7:8",text:"وَلَا"},{id:"1:7:9",text:"الضَّالِّينَ"}]}],St={"1:1:1":{gloss:"In the name of",lemma:"اسم"},"1:1:2":{gloss:"Allah",lemma:"الله"},"1:1:3":{gloss:"the Most Gracious",lemma:"رحمن"},"1:1:4":{gloss:"the Most Merciful",lemma:"رحيم"},"1:2:1":{gloss:"All praise",lemma:"حمد"},"1:2:2":{gloss:"is for Allah",lemma:"الله"},"1:2:3":{gloss:"Lord",lemma:"رب"},"1:2:4":{gloss:"of the worlds",lemma:"عالم"},"1:3:1":{gloss:"the Most Gracious",lemma:"رحمن"},"1:3:2":{gloss:"the Most Merciful",lemma:"رحيم"},"1:4:1":{gloss:"Master/Owner",lemma:"ملك"},"1:4:2":{gloss:"of the Day",lemma:"يوم"},"1:4:3":{gloss:"of Judgment",lemma:"دين"},"1:5:1":{gloss:"You alone",lemma:"إيا"},"1:5:2":{gloss:"we worship",lemma:"عبد"},"1:5:3":{gloss:"and You alone",lemma:"إيا"},"1:5:4":{gloss:"we ask for help",lemma:"استعان"},"1:6:1":{gloss:"Guide us",lemma:"هدى"},"1:6:2":{gloss:"to the path",lemma:"صراط"},"1:6:3":{gloss:"the straight",lemma:"مستقيم"},"1:7:1":{gloss:"The path",lemma:"صراط"},"1:7:2":{gloss:"of those whom",lemma:"الذي"},"1:7:3":{gloss:"You have blessed",lemma:"أنعم"},"1:7:4":{gloss:"upon them",lemma:"على"},"1:7:5":{gloss:"not",lemma:"غير"},"1:7:6":{gloss:"those who earned anger",lemma:"غضب"},"1:7:7":{gloss:"upon them",lemma:"على"},"1:7:8":{gloss:"and not",lemma:"لا"},"1:7:9":{gloss:"those who are astray",lemma:"ضل"}};function Ct(i){return i===1?Mt:null}function At(i){return St[i]||null}var It=u('<div class="bismillah mt-8 font-arabic text-2xl text-[var(--text-primary)]" dir="rtl">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</div>'),Lt=u('<header class="surah-header mb-8 border-b border-[var(--border-color)] pb-8 text-center"><div class="mb-4 flex items-center justify-center gap-4"><div class="h-px flex-1 bg-gradient-to-r from-transparent to-[var(--border-color)]"></div> <svg class="h-6 w-6 text-gold" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2Z"></path></svg> <div class="h-px flex-1 bg-gradient-to-l from-transparent to-[var(--border-color)]"></div></div> <h1 class="surah-name-arabic font-arabic text-4xl text-[var(--text-primary)] mb-2"> </h1> <h2 class="text-xl text-[var(--text-secondary)] font-medium mb-1"> </h2> <p class="text-[var(--text-muted)] italic"> </p> <div class="mt-4 flex items-center justify-center gap-4 text-sm text-[var(--text-muted)]"><span class="flex items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"></path></svg> </span> <span>•</span> <span> </span></div> <!></header>');function jt(i,t){K(t,!0);let m=tt(t,"showBismillah",3,!0),b=C(()=>m()&&t.surah.id!==9&&t.surah.id!==1);var h=Lt(),p=d(v(h),2),x=v(p);n(p);var o=d(p,2),A=v(o,!0);n(o);var a=d(o,2),_=v(a,!0);n(a);var S=d(a,2),y=v(S),I=d(v(y));n(y);var j=d(y,4),N=v(j);n(j),n(S);var W=d(S,2);{var f=w=>{var B=It();L(()=>B.dir=B.dir),c(w,B)};k(W,w=>{e(b)&&w(f)})}n(h),L(()=>{M(x,`سورة ${t.surah.name??""}`),M(A,t.surah.englishName),M(_,t.surah.englishNameTranslation),M(I,` ${t.surah.revelationType??""}`),M(N,`${t.surah.numberOfAyahs??""} verses`)}),c(i,h),D()}var Bt=u('<span role="button" tabindex="0"> </span>');function Tt(i,t){K(t,!0);let m=C(()=>Y.getFamiliarity(t.word.id));const b={new:"",seen:"bg-[var(--highlight-seen)]",learning:"bg-[var(--highlight-learning)]",known:"",ignored:"bg-[var(--highlight-ignored)] opacity-60"};let h=C(()=>b[e(m)]||"");function p(){var a;e(m)==="new"&&Y.markSeen(t.word.id,t.word.text,t.word.id,"",{surah:t.surah,ayah:t.ayah,wordIndex:t.wordIndex}),(a=t.onSelect)==null||a.call(t,t.word)}function x(a){(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),p())}var o=Bt();o.__click=p,o.__keydown=x;var A=v(o,!0);n(o),L(()=>{nt(o,1,`word-token cursor-pointer rounded px-1 py-0.5 transition-all duration-150 hover:bg-[var(--highlight-learning)] focus:outline-none focus:ring-2 focus:ring-gold/50 ${e(h)??""}`),H(o,"data-word-id",t.word.id),H(o,"data-familiarity",e(m)),M(A,t.word.text)}),c(i,o),D()}rt(["click","keydown"]);var Nt=u("<!> ",1),Wt=u('<p class="mt-3 text-sm text-[var(--text-muted)] italic leading-relaxed"> </p>'),Yt=u('<div class="ayah-container group relative py-4"><div class="quran-text leading-[2.75] text-[var(--text-primary)]" dir="rtl"><!> <span class="ayah-number inline-flex items-center justify-center text-gold"> </span></div> <!></div>');function Ft(i,t){K(t,!0);var m=Yt(),b=v(m),h=v(b);st(h,17,()=>t.ayah.words,it,(a,_,S)=>{var y=Nt(),I=E(y);Tt(I,{get word(){return e(_)},get surah(){return t.surahId},get ayah(){return t.ayah.id},wordIndex:S,get onSelect(){return t.onWordSelect}});var j=d(I);j.nodeValue="  ",c(a,y)});var p=d(h,2),x=v(p);n(p),n(b);var o=d(b,2);{var A=a=>{var _=Wt(),S=v(_,!0);n(_),L(()=>M(S,t.ayah.translation)),c(a,_)};k(o,a=>{t.ayah.translation&&a(A)})}n(m),L(a=>{H(m,"data-ayah-id",t.ayah.id),M(x,`﴿${a??""}﴾`),b.dir=b.dir},[()=>gt(t.ayah.id)]),c(i,m),D()}var Gt=u('<p class="text-sm text-[var(--text-muted)]">Lemma: <span class="font-arabic"> </span></p>'),zt=u('<p class="text-lg text-[var(--text-primary)]"> </p>'),Et=u('<p class="text-[var(--text-muted)] italic">Translation not available</p>'),Ht=u('<button class="flex-1 rounded-lg bg-[var(--accent-color)] px-4 py-2.5 text-sm font-medium text-white transition-colors hover:bg-sepia-600">Add to Review</button>'),Kt=u('<button class="flex-1 rounded-lg border border-[var(--border-color)] bg-[var(--bg-elevated)] px-4 py-2.5 text-sm font-medium text-[var(--text-primary)] transition-colors hover:bg-[var(--bg-secondary)]">I Know This</button>'),Dt=u('<button class="rounded-lg border border-[var(--border-color)] px-4 py-2.5 text-sm text-[var(--text-muted)] transition-colors hover:bg-[var(--bg-secondary)]">Ignore</button>'),Rt=u('<button class="fixed inset-0 z-40 bg-black/20 backdrop-blur-sm" aria-label="Close popover"></button> <div class="fixed bottom-0 left-0 right-0 z-50 rounded-t-2xl border-t border-[var(--border-color)] bg-[var(--bg-elevated)] p-6 shadow-xl sm:bottom-auto sm:left-1/2 sm:right-auto sm:top-1/2 sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2 sm:rounded-2xl sm:border" role="dialog" aria-modal="true" aria-labelledby="word-popover-title"><button class="absolute right-4 top-4 rounded-full p-1 text-[var(--text-muted)] transition-colors hover:bg-sepia-100 hover:text-[var(--text-primary)] dark:hover:bg-sepia-800" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="mb-6 text-center"><h2 id="word-popover-title" class="font-arabic text-4xl text-[var(--text-primary)] mb-2" dir="rtl"> </h2> <!></div> <div class="mb-6 rounded-lg bg-[var(--bg-secondary)] p-4 text-center"><!></div> <div class="mb-6 flex items-center justify-center gap-2"><span class="text-sm text-[var(--text-muted)]">Status:</span> <span> </span></div> <div class="flex flex-wrap gap-2"><!> <!> <!></div> <button class="mt-4 flex w-full items-center justify-center gap-2 rounded-lg border border-[var(--border-color)] px-4 py-2.5 text-sm text-[var(--text-secondary)] transition-colors hover:bg-[var(--bg-secondary)]" disabled><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"></path></svg> <span>Hear Word (Coming Soon)</span></button></div>',1);function Pt(i,t){K(t,!0);let m=tt(t,"gloss",3,""),b=tt(t,"lemma",3,""),h=C(()=>t.word?Y.getFamiliarity(t.word.id):"new");async function p(){t.word&&await Y.addToReview(t.word.id)}async function x(){t.word&&await Y.markKnown(t.word.id)}async function o(){t.word&&(await Y.ignore(t.word.id),t.onClose())}function A(y){y.key==="Escape"&&t.onClose()}var a=ot();dt("keydown",ct,A);var _=E(a);{var S=y=>{var I=Rt(),j=E(I);j.__click=function(...s){var l;(l=t.onClose)==null||l.apply(this,s)};var N=d(j,2),W=v(N);W.__click=function(...s){var l;(l=t.onClose)==null||l.apply(this,s)};var f=d(W,2),w=v(f),B=v(w,!0);n(w);var R=d(w,2);{var P=s=>{var l=Gt(),V=d(v(l)),lt=v(V,!0);n(V),n(l),L(()=>M(lt,b())),c(s,l)};k(R,s=>{b()&&s(P)})}n(f);var F=d(f,2),X=v(F);{var q=s=>{var l=zt(),V=v(l,!0);n(l),L(()=>M(V,m())),c(s,l)},O=s=>{var l=Et();c(s,l)};k(X,s=>{m()?s(q):s(O,!1)})}n(F);var G=d(F,2),z=d(v(G),2),Q=v(z,!0);n(z),n(G);var Z=d(G,2),J=v(Z);{var U=s=>{var l=Ht();l.__click=p,c(s,l)};k(J,s=>{e(h)!=="learning"&&e(h)!=="known"&&s(U)})}var r=d(J,2);{var g=s=>{var l=Kt();l.__click=x,c(s,l)};k(r,s=>{e(h)!=="known"&&s(g)})}var T=d(r,2);{var $=s=>{var l=Dt();l.__click=o,c(s,l)};k(T,s=>{e(h)!=="ignored"&&s($)})}n(Z),vt(2),n(N),L(()=>{M(B,t.word.text),w.dir=w.dir,nt(z,1,`rounded-full px-3 py-1 text-sm capitalize
				${e(h)==="new"?"bg-sepia-100 text-sepia-600 dark:bg-sepia-800 dark:text-sepia-300":""}
				${e(h)==="seen"?"bg-sepia-200 text-sepia-700 dark:bg-sepia-700 dark:text-sepia-200":""}
				${e(h)==="learning"?"bg-gold/20 text-gold dark:bg-gold/30":""}
				${e(h)==="known"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":""}
				${e(h)==="ignored"?"bg-sepia-100 text-sepia-400 dark:bg-sepia-800 dark:text-sepia-500":""}
			`),M(Q,e(h))}),c(y,I)};k(_,y=>{t.word&&y(S)})}c(i,a),D()}rt(["click"]);var qt=u('<div class="space-y-2"></div>'),Ot=u(`<div class="rounded-lg border border-[var(--border-color)] bg-[var(--bg-secondary)] p-8 text-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="mx-auto h-12 w-12 text-[var(--text-muted)] mb-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"></path></svg> <h3 class="text-lg font-medium text-[var(--text-primary)] mb-2">Coming Soon</h3> <p class="text-[var(--text-muted)] max-w-md mx-auto">This surah's word-by-word data is being prepared. Currently, only Surah Al-Fatihah is available for demonstration.</p> <a href="/surah/1" class="mt-4 inline-flex items-center gap-2 rounded-lg bg-[var(--accent-color)] px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-sepia-600">Try Al-Fatihah <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"></path></svg></a></div>`),Zt=u('<a class="flex items-center gap-2 text-[var(--text-secondary)] transition-colors hover:text-[var(--text-primary)]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path></svg> <span>Previous Surah</span></a>'),Jt=u("<div></div>"),Vt=u('<a class="flex items-center gap-2 text-[var(--text-secondary)] transition-colors hover:text-[var(--text-primary)]"><span>Next Surah</span> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg></a>'),Xt=u("<div></div>"),Qt=u('<div class="surah-reader"><!> <!> <nav class="mt-8 flex items-center justify-between border-t border-[var(--border-color)] pt-6"><!> <a href="/" class="text-[var(--text-muted)] transition-colors hover:text-[var(--text-primary)]">All Surahs</a> <!></nav></div> <!>',1),Ut=u('<div class="py-12 text-center"><h1 class="text-2xl font-medium text-[var(--text-primary)] mb-2">Surah Not Found</h1> <p class="text-[var(--text-muted)] mb-4">The requested surah does not exist.</p> <a href="/" class="inline-flex items-center gap-2 text-[var(--accent-color)] hover:underline"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg> Back to Surah Index</a></div>');function de(i,t){K(t,!0);const m=()=>bt(kt,"$page",b),[b,h]=wt();function p(f){if(!f)return 0;const w=parseInt(f,10);return isNaN(w)?0:w}let x=C(()=>p(m().params.id)),o=C(()=>xt(e(x))),A=C(()=>Ct(e(x))),a=mt(null),_=C(()=>e(a)?At(e(a).id):null);function S(f){at(a,f,!0)}function y(){at(a,null)}var I=ot();ft("xhvt04",f=>{ht(()=>{ut.title=e(o)?`${e(o).englishName} - Arabico`:"Surah Not Found"})});var j=E(I);{var N=f=>{var w=Qt(),B=E(w),R=v(B);{let r=C(()=>e(o).id!==1);jt(R,{get surah(){return e(o)},get showBismillah(){return e(r)}})}var P=d(R,2);{var F=r=>{var g=qt();st(g,21,()=>e(A),it,(T,$)=>{Ft(T,{get ayah(){return e($)},get surahId(){return e(x)},onWordSelect:S})}),n(g),c(r,g)},X=r=>{var g=Ot();c(r,g)};k(P,r=>{e(A)?r(F):r(X,!1)})}var q=d(P,2),O=v(q);{var G=r=>{var g=Zt();L(()=>H(g,"href",`/surah/${e(x)-1}`)),c(r,g)},z=r=>{var g=Jt();c(r,g)};k(O,r=>{e(x)>1?r(G):r(z,!1)})}var Q=d(O,4);{var Z=r=>{var g=Vt();L(()=>H(g,"href",`/surah/${e(x)+1}`)),c(r,g)},J=r=>{var g=Xt();c(r,g)};k(Q,r=>{e(x)<114?r(Z):r(J,!1)})}n(q),n(B);var U=d(B,2);{let r=C(()=>{var T;return(T=e(_))==null?void 0:T.gloss}),g=C(()=>{var T;return(T=e(_))==null?void 0:T.lemma});Pt(U,{get word(){return e(a)},get gloss(){return e(r)},get lemma(){return e(g)},onClose:y})}c(f,w)},W=f=>{var w=Ut();c(f,w)};k(j,f=>{e(o)?f(N):f(W,!1)})}c(i,I),D(),h()}export{de as component};
