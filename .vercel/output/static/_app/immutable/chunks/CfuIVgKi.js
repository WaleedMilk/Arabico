import{D as U,E as m,F as R,G as M,g as o,I as A,J as y,K as B,P as Y,A as $,L as w,M as x,N as G,O as h,Q as q,R as z,f as C,d as F,S as J,T as K,U as Q,V,W}from"./ClOfLx3j.js";import{s as Z,g as j}from"./Dz_rfxTK.js";let c=!1,g=Symbol();function k(e,r,u){const n=u[r]??(u[r]={store:null,source:M(void 0),unsubscribe:R});if(n.store!==e&&!(g in u))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=R;else{var a=!0;n.unsubscribe=Z(e,t=>{a?n.source.v=t:A(n.source,t)}),a=!1}return e&&g in u?j(e):o(n.source)}function ee(){const e={};function r(){U(()=>{for(var u in e)e[u].unsubscribe();m(e,g,{enumerable:!1,value:!0})})}return[e,r]}function p(e){var r=c;try{return c=!1,[e(),c]}finally{c=r}}function re(e,r,u,n){var E;var a=!F||(u&J)!==0,t=(u&z)!==0,T=(u&Q)!==0,f=n,b=!0,P=()=>(b&&(b=!1,f=T?C(n):n),f),d;if(t){var D=V in e||W in e;d=((E=y(e,r))==null?void 0:E.set)??(D&&r in e?i=>e[r]=i:void 0)}var _,I=!1;t?[_,I]=p(()=>e[r]):_=e[r],_===void 0&&n!==void 0&&(_=P(),d&&(a&&B(),d(_)));var s;if(a?s=()=>{var i=e[r];return i===void 0?P():(b=!0,i)}:s=()=>{var i=e[r];return i!==void 0&&(f=void 0),i===void 0?f:i},a&&(u&Y)===0)return s;if(d){var L=e.$$legacy;return(function(i,v){return arguments.length>0?((!a||!v||L||I)&&d(v?s():i),i):s()})}var S=!1,l=((u&K)!==0?$:w)(()=>(S=!1,s()));t&&o(l);var N=h;return(function(i,v){if(arguments.length>0){const O=v?o(l):a&&t?x(i):i;return A(l,O),S=!0,f!==void 0&&(f=O),i}return G&&S||(N.f&q)!==0?l.v:o(l)})}export{k as a,re as p,ee as s};
